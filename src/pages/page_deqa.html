<!DOCTYPE html>

<html manifest="/LastMileData/src/lastmiledata.appcache">
    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name='robots' content='noindex'>
        <link rel='icon' type='image/png' href='/LastMileData/res/lmd_icon_v20140916.png'>
        <title>Last Mile Data</title>
        <link rel="stylesheet" href="/LastMileData/lib/bootstrap-3.2.0-dist/css/bootstrap.min.css"  type="text/css" />
        <link rel="stylesheet" href="/LastMileData/lib/bootstrap-3.2.0-dist/css/bootstrap-theme.min.css"  type="text/css" />
        <link rel="stylesheet" href="/LastMileData/lib/jquery-ui-1.11.1/jquery-ui.min.css"  type="text/css" />
        <script src="/LastMileData/lib/jquery.min.js"></script>
        <script src="/LastMileData/lib/jquery-ui-1.11.1/jquery-ui.min.js"></script>
        <script src="/LastMileData/lib/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
        <script src="/LastMileData/src/js/loadContents_v20140916.js"></script>
        <script src="/LastMileData/src/js/modalFocus_v20140916.js"></script>
        <script src="/LastMileData/src/js/changePassword_v20140916.js"></script>
        <script src="/LastMileData/src/js/deqa_v20141015.js"></script>
        
        <style>
            .btn { width:100%; }
            
            #ajaxContainer {
                display:none;
                width:98%;
                padding:2px;
                height:300px;
                -webkit-box-shadow: 2px 2px 1px 1px lightgrey;
                overflow-y:scroll;
            }
            
            .ajaxBlock {
                color:white;
                font-weight:bold;
                font-size:16px;
                float:left;
                height: 21px;
                width: 34px;
                background-color:orange;
                text-align:center;
                margin: 1px;
                -webkit-border-radius: 4px;
                -webkit-box-shadow: 1px 1px 1px 1px lightgrey;
            }
        </style>
        
    </head>
    
    <body style="display:none">
        
        <div id="load_navbar"></div>
        
        <div class="container">
            <div class="jumbotron">
                <h1>Data Entry / Quality Assurance</h1>
                <p>This section is meant to be used by our M&E staff. This section can be accessed offline when no internet connection is present.</p>
            </div>
            
            <!-- Header -->
            <div class="row">
                <div class="col-md-4">
                    <h2>Data Entry</h2>
                    <p>Click on one of the buttons below to perform data entry.</p>
                </div>
                <div class="col-md-4">
                    <h2>Quality Assurance</h2>
                    <p>Click on one of the buttons below to perform data QA.</p>
                </div>
                <div class="col-md-4">
                    <h2>Database Management</h2>
                    <p>Functions to be used only by the database manager.</p>
                </div>
            </div>
            
            <!-- Current forms -->
            <div id="currentVersions_div" class="row">
                <div class="col-md-4">
                    <p><a href="/LastMileData/src/forms/0_testDE.html" class="btn btn-success">TEST FORM &nbsp;&nbsp;<b>[TST.01]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_reg02_registration.html" class="btn btn-success">FHW: Registration &nbsp;&nbsp;<b>[REG.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_kpi02_kpiassessment.html" class="btn btn-success">FHW: KPI Assessment &nbsp;&nbsp;<b>[KPI.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_ref02_referral.html" class="btn btn-success">FHW: Referral &nbsp;&nbsp;<b>[REF.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_bbi02_bigbellyinitial.html" class="btn btn-success">FHW: Big Belly (initial) &nbsp;&nbsp;<b>[BBI.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_bbf02_bigbellyfollowup.html" class="btn btn-success">FHW: Big Belly (follow-up) &nbsp;&nbsp;<b>[BBF.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_pni02_postnatalinitial.html" class="btn btn-success">FHW: Postnatal (initial) &nbsp;&nbsp;<b>[PNI.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_pnf02_postnatalfollowup.html" class="btn btn-success">FHW: Postnatal (follow-up) &nbsp;&nbsp;<b>[PNF.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_bdm02_movements.html" class="btn btn-success">FHW: Births, Deaths, Movements &nbsp;&nbsp;<b>[BDM.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_sch02_sickchild.html" class="btn btn-success">FHW: Sick Child &nbsp;&nbsp;<b>[SCH.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_esc04_ebolascreening.html" class="btn btn-success">FHW: Ebola Screening Tool &nbsp;&nbsp;<b>[ESC.04]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_ect01_ebolacontacttracing.html" class="btn btn-success">FHW: Ebola Contact Tracing &nbsp;&nbsp;<b>[ECT.01]</b></a></p>
                </div>
                <div class="col-md-4">          <!-- !!!!! change IDs below to allow for version control !!!!! -->
                    <p><a id="qa_TST" href="#" class="btn btn-primary">TEST FORM &nbsp;&nbsp;<b>[TST.01]</b></a></p>
                    <p><a id="qa_REG" href="#" class="btn btn-primary">FHW: Registration &nbsp;&nbsp;<b>[REG.02]</b></a></p>
                    <p><a id="qa_KPI" href="#" class="btn btn-primary">FHW: KPI Assessment &nbsp;&nbsp;<b>[KPI.02]</b></a></p>
                    <p><a id="qa_REF" href="#" class="btn btn-primary">FHW: Referral &nbsp;&nbsp;<b>[REF.02]</b></a></p>
                    <p><a id="qa_BBI" href="#" class="btn btn-primary">FHW: Big Belly (initial) &nbsp;&nbsp;<b>[BBI.02]</b></a></p>
                    <p><a id="qa_BBF" href="#" class="btn btn-primary">FHW: Big Belly (follow-up) &nbsp;&nbsp;<b>[BBF.02]</b></a></p>
                    <p><a id="qa_PNI" href="#" class="btn btn-primary">FHW: Postnatal (initial) &nbsp;&nbsp;<b>[PNI.02]</b></a></p>
                    <p><a id="qa_PNF" href="#" class="btn btn-primary">FHW: Postnatal (follow-up) &nbsp;&nbsp;<b>[PNF.02]</b></a></p>
                    <p><a id="qa_BDM" href="#" class="btn btn-primary">FHW: Births, Deaths, Movements &nbsp;&nbsp;<b>[BDM.02]</b></a></p>
                    <p><a id="qa_SCH" href="#" class="btn btn-primary">FHW: Sick Child &nbsp;&nbsp;<b>[SCH.02]</b></a></p>
                    <p><a id="qa_ESC" href="#" class="btn btn-primary">FHW: Ebola Screening Tool &nbsp;&nbsp;<b>[ESC.04]</b></a></p>
                    <p><a id="qa_ECT" href="#" class="btn btn-primary">FHW: Ebola Contact Tracing &nbsp;&nbsp;<b>[ECT.01]</b></a></p>
                </div>
                <div class="col-md-4">
                    <p><a href="#" class="btn btn-danger" data-toggle="modal" data-target="#sendRecordsModal" title="Click here to send records to the MySQL Database. Requires an active internet connection. This should ideally be done after data quality assurance has been performed.">Send Records</a></p>
                    <p><a href="#" class="btn btn-danger" data-toggle="modal" data-target="#refreshDataModal" title="Click here to refresh system data. Should be done at least once a month. Requires an active internet connection.">Refresh system data</a></p>
                    <p><a href="#" class="btn btn-danger" data-toggle="modal" data-target="#downloadDataFileModal" title="Click here to download all data entry forms onto local disk. This is useful if there is no internet connection, and you need to transfer the files on a thumb drive to someone else's computer to send to the MySQL databasse.">Download data file</a></p>
                    <p><a href="#" class="btn btn-danger" data-toggle="modal" data-target="#uploadDataFileModal" title="Use this to upload a data file from someone else's M&E laptop. Does not requires an internet connection, although an internet connection is required to send files to the MySQL database.">Upload data file</a></p>
                    
                    <!--<p><button class="btn btn-danger" onClick="console.log(localStorage);" title="Click here to view all data in localStorage in the browser console.">View localStorage</button></p>-->
                    <!--<p><button class="btn btn-danger" onClick="console.log(sessionStorage);" title="Click here to view all data in sessionStorage in the browser console.">View sessionStorage</button></p>-->
                    <!--<p><button class="btn btn-danger" onClick="localStorage.clear();" title="Click here to clear localStorage.">Clear localStorage</button></p>-->
                    <!--<p><button class="btn btn-danger" onClick="sessionStorage.clear();" title="Click here to clear sessionStorage.">Clear sessionStorage</button></p>-->
                </div>
            </div>
            
            <!-- Old versions of forms -->
            <div class="row">
                <div class="col-md-8" style="text-align:center">
                    <hr>
                    <a id="oldVersions_link" style="cursor:pointer">Click to use older form versions</a>
                    <a id="currentVersions_link" style="cursor:pointer; display:none">Click to use current form versions</a>
                    <hr>
                </div>
            </div>
            
            <!-- Old versions of forms -->
            <div id="oldVersions_div" class="row" style="display:none">
                <div class="col-md-4">
                    <p><a href="/LastMileData/src/forms/fhw_esc02_ebolascreening.html" class="btn btn-success">FHW: Ebola Screening Tool &nbsp;&nbsp;<b>[ESC.02]</b></a></p>
                    <p><a href="/LastMileData/src/forms/fhw_esc03_ebolascreening.html" class="btn btn-success">FHW: Ebola Screening Tool &nbsp;&nbsp;<b>[ESC.03]</b></a></p>
                </div>
                <div class="col-md-4"> <!-- !!!!! modify; cross-check this code with DEQA.js !!!!! -->
                    <p><a id="qa_ESC02" href="#" class="btn btn-primary">FHW: Ebola Screening Tool &nbsp;&nbsp;<b>[ESC.02]</b></a></p>
                    <p><a id="qa_ESC03" href="#" class="btn btn-primary">FHW: Ebola Screening Tool &nbsp;&nbsp;<b>[ESC.03]</b></a></p>
                </div>
            </div>
        </div>        
        
        
        
        <!-- START "DEQA LOGIN" (MODAL) -->
        <div id="deqaLogin" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="text-center">Enter M&E Username/Password</h1>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <input id="username" type="text" class="form-control input-lg" placeholder="Username">
                        </div>
                        <div class="form-group">
                            <input id="password" type="password" class="form-control input-lg" placeholder="Password">
                        </div>
                        <div id="incorrectLogin" class="form-group" style="display:none">
                            <span style="color:red">Incorrect login credentials. Please try again.</span>
                        </div>
                        <div class="form-group">
                            <button id="deqaLoginSubmit" class="btn btn-success btn-lg btn-block">Submit</button>
                            <span>Please email <a href="mailto:avi@lastmilehealth.org?subject=Access to M&E Section of LastMileData.org">Avi Kenny</a> to request access to this section.</span>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>        
        <!-- END "DEQA LOGIN" (MODAL) -->
        
        
        
        <!-- START "INITIALIZE" (MODAL) -->
        <div id="deqaInitialize" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="text-center">Initializing application</h1>
                    </div>
                    <div class="modal-body">
                        <div class="form-group text-center">
                            <img src="/LastMileData/res/ajax-loader_v20140916.gif">
                            <h3 id="initialize_text">Initializing...</h3>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>

            </div>
        </div>        
        <!-- END "INITIALIZE" (MODAL) -->
        
        
        
        <!-- START "APPCACHE REFRESH" (MODAL) -->
        <div id="appCacheRefresh" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="text-center">Refreshing Application</h1>
                    </div>
                    <div class="modal-body">
                        <div class="form-group text-center">
                            <img src="/LastMileData/res/ajax-loader_v20140916.gif">
                            <h3 id="initialize_text">A new version of Last Mile Data is available. Refreshing now...</h3>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>

            </div>
        </div>        
        <!-- END "APPCACHE REFRESH" (MODAL) -->
        
        
        
        <!-- START: "REFRESH DATA" (MODAL) -->
        <div id="refreshDataModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="text-center">Refresh system data</h1>
                    </div>
                    <div class="modal-body">
                        <div class="form-group text-center">
                            <img src="/LastMileData/res/ajax-loader_v20140916.gif">
                            <h3 id="refreshData_text">Refreshing...</h3>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
        <!-- END: "REFRESH DATA" (MODAL) -->
        
        
        
        <!-- START: "DOWNLOAD DATA FILE" (MODAL) -->
        <div id="downloadDataFileModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="text-center">Download data file</h1>
                    </div>
                    <div class="modal-body">
                        <div class="form-group text-center">
                            <img src="/LastMileData/res/ajax-loader_v20140916.gif">
                            <h3 id="downloadDataFile_text">Downloading data file...</h3>
                        </div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
        <!-- END: "DOWNLOAD DATA FILE" (MODAL) -->
        
        
        
        <!-- START: "UPLOAD DATA FILE" (MODAL) -->
        <div id="uploadDataFileModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <!-- !!!!! build this out !!!!! -->
        </div>
        <!-- END: "UPLOAD DATA FILE" (MODAL) -->
        
        
        
        <!-- START: "SEND RECORDS" (MODAL) -->
        <div id="sendRecordsModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="text-center">Send Records</h1>
                    </div>
                    <div class="modal-body">
                        <form class="form col-md-12 center-block">
                            <div id="ajaxContainer" class="center-block text-center"></div>
                            <div class="form-group text-center">
                                <h3 id="sendRecords_text">Are you sure you want to send all current records to the database?</h3>
                                <a id="sendRecords" class="btn btn-success btn-lg">Yes, send records</a>
                                &nbsp;
                                <button id="cancelModal_2" class="btn btn-success btn-lg" data-dismiss="modal" aria-hidden="true">No, go back</button>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
        <!-- END: "SEND RECORDS" (MODAL) -->
        
        
        
        <!-- START: "QUALITY ASSURANCE" (MODAL) -->
        <div id="qaModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h1 class="text-center">Quality Assurance</h1>
                    </div>
                    <div class="modal-body">
                        <h3 id="qaFormName" class="text-center">Form name</h3>
                        <form class="form col-md-12 center-block">
                            <h3 id="modal_text" class="text-center"></h3>
                            <div id="pKeyDiv1" class="form-group">
                                <label for="pKey1">pKey 1:</label>
                                <input id="pKey1" class="form-control input-lg">
                            </div>
                            <div id="pKeyDiv2" class="form-group">
                                <label for="pKey2">pKey 2:</label>
                                <input id="pKey2" class="form-control input-lg">
                            </div>
                            <div id="pKeyDiv3" class="form-group">
                                <label for="pKey3">pKey 3:</label>
                                <input id="pKey3" class="form-control input-lg">
                            </div>
                            <div id="qaNoMatch" class="form-group" style="display:none">
                                <span style="color:red">No match was found in the current record set.</span>
                            </div>
                            <div class="form-group">
                                <a id="qaModalSubmit" class="btn btn-success btn-lg btn-block">Submit</a>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <div class="col-md-12">
                            <button id="cancelModal_3" class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                        </div>    
                    </div>
                </div>
            </div>
        </div>        
        <!-- END: "QUALITY ASSURANCE" (MODAL) -->
        
        
        
    </body>
    
</html>