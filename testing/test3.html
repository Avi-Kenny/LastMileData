<!DOCTYPE html>
<!--
    !!!!!
    Built from tutorial at http://leafletjs.com/examples/choropleth.html
    !!!!!
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script src="/LastMileData/lib/jquery.min.js"></script>
        <script src="/reusables/lib/underscore.min.js"></script>
        <script src="/LastMileData/lib/rivets.bundled.min.js"></script>
        <style>
            .box {
                width:100px;
                height:30px;
                background:green;
                padding:10px;
                margin:10px;
                float:left;
            }
        </style>
        <script>
            $(document).ready(function(){
                
                var myModel = {
                    var1: "hey",
                    var2: [2,4,6,8]
                };

                // Configure rivets.js
                rivets.configure({templateDelimiters: ['{{', '}}']});

                // Bind sidebar model to accordion DIV
                rivets.bind($('#myDiv'), {myModel: myModel});
                
                $('#push').click(function(){
                    myModel.var2.push(Math.round(Math.random()*100));
                });
                $('#pop').click(function(){
                    myModel.var2.pop();
                });
                $('#model').click(function(){
                    console.log(myModel.var2);
                });
                
            });
        </script>
    </head>
    <body>
        <div id="myDiv">
            <button style="float:left" id="push">Push!</button>
            <button style="float:left" id="pop">Pop!</button>
            <button style="float:left" id="model">Model</button>
            <div class="box" rv-each-array="myModel.var2">{{array}}</div>
            <br>
            {{myModel.var1}}
        </div>
    </body>
</html>

