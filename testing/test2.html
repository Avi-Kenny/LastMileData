<!DOCTYPE html>

<html>
    
    <head>
        
        <title>Facility Form (MSH 01) - IPC MESH Tool</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <meta name='robots' content='noindex'>
        <link rel='icon' type='image/png' href='/LastMileData/res/lmd_icon_v20140916.png'>
        <script src="/LastMileData/lib/jquery.min.js"></script>
        <script src="/LastMileData/lib/jquery-ui-1.11.1/jquery-ui.min.js"></script>
        <script src="/LastMileData/lib/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
        <script src="/LastMileData/lib/rivets.bundled.min.js"></script>
        <link rel="stylesheet" href="/LastMileData/lib/bootstrap-3.2.0-dist/css/bootstrap.min.css"  type="text/css" />
        <link rel="stylesheet" href="/LastMileData/lib/bootstrap-3.2.0-dist/css/bootstrap-theme.min.css"  type="text/css" />
        <link rel="stylesheet" href="/LastMileData/lib/jquery-ui-1.11.1/jquery-ui.min.css"  type="text/css" />
        
        <style>
            body { font-size:200%; font-weight:bold; }
            #outer { margin:auto; width:600px; position:relative; top:100px; padding:10px; }
            #inner1 { width:500px; height:100px; background-color:red; margin:10px; padding:10px; }
            #inner2 { width:500px; height:100px; background-color:blue; margin:10px; padding:10px; }
            #logSpace { background-color:#dddddd; width:600px; height:300px; margin:10px; padding:10px; }
        </style>
        
        <script>
        $(document).ready(function(){
            
            rivets.configure({
                templateDelimiters: ['{{', '}}']
            });
            
            var cname = {cname: 'heyyou'};
            
            rivets.bind($('#myInput'), {cname: cname});
            
            $('#myInput').click(function(){
                cname.cname = 'newclassYo';
            });
            
            rivets.binders.addclass = function(el, value) {
                $(el).addClass('cname');
            };
            
            rivets.binders.avi = function(el, value) {
                console.log('changing...');
                console.log(value);
                $(el).addClass(value);
//                $('#auction').style.color = 'red';
            };
            
            var auction = {
                yes: true,
                no: false,
                product: { name:'myProduct' },
                currentBid: 100,
                seeMe: false
            };
            
            rivets.bind($('#auction'), {auction: auction});
            
            
            var list = {
                todos: [
                    {done:true,summary:'one',sub:[0,1,2]},
                    {done:true,summary:'two',sub:[2,3,4]},
                    {done:false,summary:'three',sub:[3,4,5]}
                ]
            }
            rivets.bind($('#myList'), {list: list});
            $('#logModel').click(function(){
                console.log(list.todos[0].done);
                console.log(list.todos[2].sub);
            });
            
            
        });
        </script>
        
        <style>
            .my {background:red};
        </style>
        
    </head>
    
    <body>
        
        <div style="background:lightblue; width:300px; height:100px; margin:20px; padding:20px;">
            Hey, <span id='mySpan'></span>
            <input id='myInput' rv-class="cname.cname">
        </div>
        
        <!--<button rv-color="label.color">Apply</button>-->
        <button id='logModel'>Log model</button>
        
        <ul id='myList'>
            <li rv-each-myobj="list.todos">
                <div>
                    <input type="checkbox" rv-avi="myobj.done" rv-checked="myobj.done"> {{ myobj.summary }}: <span rv-each-obj='myobj.sub'>i(x): {{obj}}, </span>
                    <input rv-addclass="true" rv-value="myobj.done">
                </div>
            </li>
        <ul>
        
            
        <section id="auction">
          <h3 class="you" rv-class="auction.yes">{{ auction.product.name }}</h3>
          <p>Current bid: {{ auction.currentBid | money }}</p>
          <div rv-if="auction.seeMe">You can see me</div>
        </section>
        
    </body>
    
</html>